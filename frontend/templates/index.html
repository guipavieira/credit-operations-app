<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador de OperaÃ§Ãµes de CrÃ©dito - PMAE</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <header>
        <div class="header-content">
            <div class="header-text">
                <h1>Simulador de OperaÃ§Ãµes de CrÃ©dito</h1>
                <p>Programa Municipal de Apoio ao Empreendedorismo</p>
            </div>
        </div>
    </header>
    
    <main>
        <div class="container">
            <section id="credit-form">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h2 style="margin-bottom: 0;">ParÃ¢metros da SimulaÃ§Ã£o</h2>
                    <button type="button" id="toggle-all-sections" class="toggle-all-btn">Recolher Todos</button>
                </div>
                
                <form id="simulation-form">
                    <!-- Horizonte e Aportes -->
                    <fieldset class="collapsible">
                        <legend class="collapsible-header">
                            <span class="toggle-icon">â–¼</span>
                            Horizonte e Aportes
                        </legend>
                        <div class="collapsible-content">
                        
                        <div class="form-group">
                            <label for="simulation_months">
                                Meses de SimulaÃ§Ã£o:
                                <span class="info-icon" data-info="Quantidade de meses que a simulaÃ§Ã£o irÃ¡ projetar. Recomendado: 60 meses (5 anos)">â“˜</span>
                            </label>
                            <input type="number" id="simulation_months" name="simulation_months" value="60" min="1" max="240">
                        </div>
                        
                        <div class="form-group">
                            <label for="aporte_inicial_fundo">
                                Aporte Inicial do Fundo (R$):
                                <span class="info-icon" data-info="Valor inicial disponÃ­vel no fundo garantidor. Este Ã© o capital inicial para cobrir inadimplÃªncias">â“˜</span>
                            </label>
                            <input type="number" id="aporte_inicial_fundo" name="aporte_inicial_fundo" value="1000000" step="10000">
                        </div>
                        
                        <div class="form-group">
                            <label for="aporte_mensal">
                                Aporte Mensal (R$):
                                <span class="info-icon" data-info="Valor que serÃ¡ aportado mensalmente no fundo. Use 0 se nÃ£o houver aportes regulares">â“˜</span>
                            </label>
                            <input type="number" id="aporte_mensal" name="aporte_mensal" value="0" step="1000">
                        </div>
                        
                        <div class="form-group">
                            <label for="start_year">
                                Ano Inicial:
                                <span class="info-icon" data-info="Ano de inÃ­cio da simulaÃ§Ã£o. Usado para aplicar as taxas SELIC correspondentes">â“˜</span>
                            </label>
                            <input type="number" id="start_year" name="start_year" value="2026" min="2024" max="2030">
                        </div>
                        
                        <div class="form-group">
                            <label for="alavancagem_maxima">
                                Alavancagem MÃ¡xima:
                                <span class="info-icon" data-info="MÃºltiplo mÃ¡ximo permitido entre saldo garantido e saldo do fundo. Ex: 3.0 = garantir atÃ© 3x o saldo do fundo">â“˜</span>
                            </label>
                            <input type="number" id="alavancagem_maxima" name="alavancagem_maxima" value="3.0" step="0.1" min="1">
                        </div>
                        
                        <div class="form-group">
                            <label>
                                Aportes Extras:
                                <span class="info-icon" data-info="Aportes pontuais em meses especÃ­ficos. Ãštil para simular captaÃ§Ãµes extraordinÃ¡rias">â“˜</span>
                            </label>
                            <div id="aportes-container">
                                <div class="aporte-item">
                                    <label class="aporte-label">MÃªs:</label>
                                    <input type="number" class="aporte-mes" placeholder="MÃªs" value="6" min="1">
                                    <label class="aporte-label">Valor do Aporte (R$):</label>
                                    <input type="number" class="aporte-valor" placeholder="Valor (R$)" value="5000000" step="10000">
                                    <button type="button" class="remove-aporte">Remover</button>
                                </div>
                                <div class="aporte-item">
                                    <label class="aporte-label">MÃªs:</label>
                                    <input type="number" class="aporte-mes" placeholder="MÃªs" value="12" min="1">
                                    <label class="aporte-label">Valor do Aporte (R$):</label>
                                    <input type="number" class="aporte-valor" placeholder="Valor (R$)" value="14000000" step="10000">
                                    <button type="button" class="remove-aporte">Remover</button>
                                </div>
                            </div>
                            <button type="button" id="add-aporte">+ Adicionar Aporte</button>
                        </div>
                        </div>
                    </fieldset>

                    <!-- Prazos por Porte -->
                    <fieldset class="collapsible">
                        <legend class="collapsible-header">
                            <span class="toggle-icon">â–¼</span>
                            Prazos MÃ©dios por Porte (meses)
                        </legend>
                        <div class="collapsible-content">
                        
                        <div class="form-group">
                            <label for="prazo_operacao_MEI">
                                MEI:
                                <span class="info-icon" data-info="Prazo mÃ©dio de pagamento das operaÃ§Ãµes de MEI (Microempreendedor Individual) em meses">â“˜</span>
                            </label>
                            <input type="number" id="prazo_operacao_MEI" name="prazo_operacao_MEI" value="36" min="1" max="120">
                        </div>
                        
                        <div class="form-group">
                            <label for="prazo_operacao_ME">
                                ME:
                                <span class="info-icon" data-info="Prazo mÃ©dio de pagamento das operaÃ§Ãµes de ME (Microempresa) em meses">â“˜</span>
                            </label>
                            <input type="number" id="prazo_operacao_ME" name="prazo_operacao_ME" value="36" min="1" max="120">
                        </div>
                        
                        <div class="form-group">
                            <label for="prazo_operacao_EPP">
                                EPP:
                                <span class="info-icon" data-info="Prazo mÃ©dio de pagamento das operaÃ§Ãµes de EPP (Empresa de Pequeno Porte) em meses">â“˜</span>
                            </label>
                            <input type="number" id="prazo_operacao_EPP" name="prazo_operacao_EPP" value="36" min="1" max="120">
                        </div>
                        </div>
                    </fieldset>

                    <!-- Garantias -->
                    <fieldset class="collapsible">
                        <legend class="collapsible-header">
                            <span class="toggle-icon">â–¼</span>
                            Percentuais de Garantia por Porte
                        </legend>
                        <div class="collapsible-content">
                        
                        <div class="form-group">
                            <label for="percentual_garantia_MEI">
                                MEI (0-1):
                                <span class="info-icon" data-info="Percentual do saldo devedor coberto pela garantia do fundo para MEI (0 a 1). Ex: 0.8 = 80%">â“˜</span>
                            </label>
                            <input type="number" id="percentual_garantia_MEI" name="percentual_garantia_MEI" value="0.8" step="0.01" min="0" max="1">
                        </div>
                        
                        <div class="form-group">
                            <label for="percentual_garantia_ME">
                                ME (0-1):
                                <span class="info-icon" data-info="Percentual do saldo devedor coberto pela garantia do fundo para ME (0 a 1). Ex: 0.8 = 80%">â“˜</span>
                            </label>
                            <input type="number" id="percentual_garantia_ME" name="percentual_garantia_ME" value="0.8" step="0.01" min="0" max="1">
                        </div>
                        
                        <div class="form-group">
                            <label for="percentual_garantia_EPP">
                                EPP (0-1):
                                <span class="info-icon" data-info="Percentual do saldo devedor coberto pela garantia do fundo para EPP (0 a 1). Ex: 0.8 = 80%">â“˜</span>
                            </label>
                            <input type="number" id="percentual_garantia_EPP" name="percentual_garantia_EPP" value="0.8" step="0.01" min="0" max="1">
                        </div>
                        </div>
                    </fieldset>

                    <!-- InadimplÃªncia -->
                                        <!-- InadimplÃªncia -->
                    <fieldset class="collapsible">
                        <legend class="collapsible-header">
                            <span class="toggle-icon">â–¼</span>
                            Taxas de InadimplÃªncia por Porte
                        </legend>
                        <div class="collapsible-content">
                        
                        <div class="form-group">
                            <label for="taxa_inadimplencia_MEI">
                                MEI (0-1):
                                <span class="info-icon" data-info="Percentual de operaÃ§Ãµes de MEI que entram em inadimplÃªncia (0 a 1). Ex: 0.05 = 5% das operaÃ§Ãµes">â“˜</span>
                            </label>
                            <input type="number" id="taxa_inadimplencia_MEI" name="taxa_inadimplencia_MEI" value="0.22" step="0.01" min="0" max="1">
                        </div>
                        
                        <div class="form-group">
                            <label for="taxa_inadimplencia_ME">
                                ME (0-1):
                                <span class="info-icon" data-info="Percentual de operaÃ§Ãµes de ME que entram em inadimplÃªncia (0 a 1). Ex: 0.05 = 5% das operaÃ§Ãµes">â“˜</span>
                            </label>
                            <input type="number" id="taxa_inadimplencia_ME" name="taxa_inadimplencia_ME" value="0.1" step="0.01" min="0" max="1">
                        </div>
                        
                        <div class="form-group">
                            <label for="taxa_inadimplencia_EPP">
                                EPP (0-1):
                                <span class="info-icon" data-info="Percentual de operaÃ§Ãµes de EPP que entram em inadimplÃªncia (0 a 1). Ex: 0.05 = 5% das operaÃ§Ãµes">â“˜</span>
                            </label>
                            <input type="number" id="taxa_inadimplencia_EPP" name="taxa_inadimplencia_EPP" value="0.05" step="0.01" min="0" max="1">
                        </div>
                        </div>
                    </fieldset>

                    <!-- Taxas AplicÃ¡veis -->
                    <fieldset class="collapsible">
                        <legend class="collapsible-header">
                            <span class="toggle-icon">â–¼</span>
                            Taxas AplicÃ¡veis
                        </legend>
                        <div class="collapsible-content">
                        
                        <div class="form-group">
                            <label for="taxa_juros_media_anual_MEI">
                                Taxa de Juros Anual MEI (0-1):
                                <span class="info-icon" data-info="Taxa de juros anual mÃ©dia cobrada nas operaÃ§Ãµes de crÃ©dito para MEI. Ex: 0.20 = 20% ao ano">â“˜</span>
                            </label>
                            <input type="number" id="taxa_juros_media_anual_MEI" name="taxa_juros_media_anual_MEI" value="0.20" step="0.01" min="0" max="1">
                        </div>
                        
                        <div class="form-group">
                            <label for="taxa_juros_media_anual_ME">
                                Taxa de Juros Anual ME (0-1):
                                <span class="info-icon" data-info="Taxa de juros anual mÃ©dia cobrada nas operaÃ§Ãµes de crÃ©dito para ME. Ex: 0.18 = 18% ao ano">â“˜</span>
                            </label>
                            <input type="number" id="taxa_juros_media_anual_ME" name="taxa_juros_media_anual_ME" value="0.18" step="0.01" min="0" max="1">
                        </div>
                        
                        <div class="form-group">
                            <label for="taxa_juros_media_anual_EPP">
                                Taxa de Juros Anual EPP (0-1):
                                <span class="info-icon" data-info="Taxa de juros anual mÃ©dia cobrada nas operaÃ§Ãµes de crÃ©dito para EPP. Ex: 0.15 = 15% ao ano">â“˜</span>
                            </label>
                            <input type="number" id="taxa_juros_media_anual_EPP" name="taxa_juros_media_anual_EPP" value="0.15" step="0.01" min="0" max="1">
                        </div>
                        
                        <div class="form-group">
                            <label for="taxa_juros_cv">
                                Coef. VariaÃ§Ã£o Taxa de Juros (0-1):
                                <span class="info-icon" data-info="Coeficiente de variaÃ§Ã£o da taxa de juros entre operaÃ§Ãµes. Ex: 0.03 = variaÃ§Ã£o de Â±3%">â“˜</span>
                            </label>
                            <input type="number" id="taxa_juros_cv" name="taxa_juros_cv" value="0.03" step="0.01" min="0" max="1">
                        </div>
                        
                        <div class="form-group">
                            <label for="taxa_concessao">
                                Taxa de ConcessÃ£o (0-1):
                                <span class="info-icon" data-info="Taxa percentual cobrada sobre o valor da operaÃ§Ã£o no momento da concessÃ£o. Ex: 0.0015 = 0.15%">â“˜</span>
                            </label>
                            <input type="number" id="taxa_concessao" name="taxa_concessao" value="0.0015" step="0.0001" min="0" max="1">
                        </div>
                        </div>
                    </fieldset>

                    <!-- RecuperaÃ§Ã£o e RenegociaÃ§Ã£o -->
                    <fieldset class="collapsible">
                        <legend class="collapsible-header">
                            <span class="toggle-icon">â–¼</span>
                            RecuperaÃ§Ã£o e RenegociaÃ§Ã£o
                        </legend>
                        <div class="collapsible-content">
                        
                        <div class="form-group">
                            <label for="taxa_recuperacao">
                                Taxa de RecuperaÃ§Ã£o (0-1):
                                <span class="info-icon" data-info="Percentual do saldo devedor inadimplente que Ã© efetivamente recuperado (0 a 1). Ex: 0.3 = 30% recuperado">â“˜</span>
                            </label>
                            <input type="number" id="taxa_recuperacao" name="taxa_recuperacao" value="0.30" step="0.01" min="0" max="1">
                        </div>
                        
                        <div class="form-group">
                            <label for="prazo_medio_renegociacao">
                                Prazo MÃ©dio RenegociaÃ§Ã£o (meses):
                                <span class="info-icon" data-info="Prazo mÃ©dio em meses para renegociaÃ§Ã£o de operaÃ§Ãµes inadimplentes">â“˜</span>
                            </label>
                            <input type="number" id="prazo_medio_renegociacao" name="prazo_medio_renegociacao" value="12" min="1">
                        </div>
                        
                        <div class="form-group">
                            <label for="prazo_honra">
                                Prazo Honra (meses):
                                <span class="info-icon" data-info="PerÃ­odo de carÃªncia antes de iniciar aÃ§Ãµes de recuperaÃ§Ã£o/renegociaÃ§Ã£o, em meses">â“˜</span>
                            </label>
                            <input type="number" id="prazo_honra" name="prazo_honra" value="2" min="0">
                        </div>
                        
                        <div class="form-group">
                            <label for="prazo_recuperacao">
                                Prazo RecuperaÃ§Ã£o (meses):
                                <span class="info-icon" data-info="PerÃ­odo durante o qual o fundo tenta recuperar os crÃ©ditos inadimplentes, em meses">â“˜</span>
                            </label>
                            <input type="number" id="prazo_recuperacao" name="prazo_recuperacao" value="6" min="0">
                        </div>
                        </div>
                    </fieldset>

                    <!-- Tickets MÃ©dios -->
                    <fieldset class="collapsible">
                        <legend class="collapsible-header">
                            <span class="toggle-icon">â–¼</span>
                            Tickets MÃ©dios por Porte (R$)
                        </legend>
                        <div class="collapsible-content">
                        
                        <div class="form-group">
                            <label for="ticket_medio_MEI">
                                MEI:
                                <span class="info-icon" data-info="Valor mÃ©dio das operaÃ§Ãµes de crÃ©dito para MEI (Microempreendedor Individual) em reais">â“˜</span>
                            </label>
                            <input type="number" id="ticket_medio_MEI" name="ticket_medio_MEI" value="20000" step="1000">
                        </div>
                        
                        <div class="form-group">
                            <label for="ticket_medio_ME">
                                ME:
                                <span class="info-icon" data-info="Valor mÃ©dio das operaÃ§Ãµes de crÃ©dito para ME (Microempresa) em reais">â“˜</span>
                            </label>
                            <input type="number" id="ticket_medio_ME" name="ticket_medio_ME" value="80000" step="1000">
                        </div>
                        
                        <div class="form-group">
                            <label for="ticket_medio_EPP">
                                EPP:
                                <span class="info-icon" data-info="Valor mÃ©dio das operaÃ§Ãµes de crÃ©dito para EPP (Empresa de Pequeno Porte) em reais">â“˜</span>
                            </label>
                            <input type="number" id="ticket_medio_EPP" name="ticket_medio_EPP" value="150000" step="1000">
                        </div>
                        
                        <div class="form-group">
                            <label for="ticket_cv">
                                Coef. VariaÃ§Ã£o Ticket (0-1):
                                <span class="info-icon" data-info="Coeficiente de variaÃ§Ã£o dos valores das operaÃ§Ãµes. Ex: 0.2 = variaÃ§Ã£o de Â±20% em torno do ticket mÃ©dio">â“˜</span>
                            </label>
                            <input type="number" id="ticket_cv" name="ticket_cv" value="0.2" step="0.01" min="0" max="1">
                        </div>
                        </div>
                    </fieldset>

                    <!-- ProporÃ§Ãµes -->
                    <fieldset class="collapsible">
                        <legend class="collapsible-header">
                            <span class="toggle-icon">â–¼</span>
                            ProporÃ§Ãµes por Porte (0-1, soma = 1)
                        </legend>
                        <div class="collapsible-content">
                        
                        <div class="form-group">
                            <label for="prop_MEI">
                                MEI:
                                <span class="info-icon" data-info="ProporÃ§Ã£o de operaÃ§Ãµes destinadas a MEI. Os valores de MEI, ME e EPP devem somar 1 (100%)">â“˜</span>
                            </label>
                            <input type="number" id="prop_MEI" name="prop_MEI" value="0.8" step="0.01" min="0" max="1">
                        </div>
                        
                        <div class="form-group">
                            <label for="prop_ME">
                                ME:
                                <span class="info-icon" data-info="ProporÃ§Ã£o de operaÃ§Ãµes destinadas a ME. Os valores de MEI, ME e EPP devem somar 1 (100%)">â“˜</span>
                            </label>
                            <input type="number" id="prop_ME" name="prop_ME" value="0.15" step="0.01" min="0" max="1">
                        </div>
                        
                        <div class="form-group">
                            <label for="prop_EPP">
                                EPP:
                                <span class="info-icon" data-info="ProporÃ§Ã£o de operaÃ§Ãµes destinadas a EPP. Os valores de MEI, ME e EPP devem somar 1 (100%)">â“˜</span>
                            </label>
                            <input type="number" id="prop_EPP" name="prop_EPP" value="0.05" step="0.01" min="0" max="1">
                        </div>
                        </div>
                    </fieldset>

                    <!-- Sistema de AmortizaÃ§Ã£o -->
                    <fieldset class="collapsible">
                        <legend class="collapsible-header">
                            <span class="toggle-icon">â–¼</span>
                            ProporÃ§Ãµes Sistema de AmortizaÃ§Ã£o (0-1, soma = 1)
                        </legend>
                        <div class="collapsible-content">
                        
                        <div class="form-group">
                            <label for="prop_PRICE">
                                PRICE:
                                <span class="info-icon" data-info="ProporÃ§Ã£o de operaÃ§Ãµes usando sistema PRICE (parcelas fixas). Os valores devem somar 1 (100%)">â“˜</span>
                            </label>
                            <input type="number" id="prop_PRICE" name="prop_PRICE" value="0.5" step="0.01" min="0" max="1">
                        </div>
                        
                        <div class="form-group">
                            <label for="prop_SAC">
                                SAC:
                                <span class="info-icon" data-info="ProporÃ§Ã£o de operaÃ§Ãµes usando sistema SAC (amortizaÃ§Ã£o constante). Os valores devem somar 1 (100%)">â“˜</span>
                            </label>
                            <input type="number" id="prop_SAC" name="prop_SAC" value="0.5" step="0.01" min="0" max="1">
                        </div>
                        </div>
                    </fieldset>

                    <!-- SELIC -->
                    <fieldset class="collapsible">
                        <legend class="collapsible-header">
                            <span class="toggle-icon">â–¼</span>
                            Taxa SELIC Anual
                        </legend>
                        <div class="collapsible-content">
                        
                        <div class="form-group">
                            <label for="Taxa_SELIC_2026">
                                2026 (0-1):
                                <span class="info-icon" data-info="Taxa SELIC anual projetada para 2026 em formato decimal. Ex: 0.125 = 12,5%">â“˜</span>
                            </label>
                            <input type="number" id="Taxa_SELIC_2026" name="Taxa_SELIC_2026" value="0.125" step="0.001" min="0" max="1">
                        </div>
                        
                        <div class="form-group">
                            <label for="Taxa_SELIC_2027">
                                2027 (0-1):
                                <span class="info-icon" data-info="Taxa SELIC anual projetada para 2027 em formato decimal. Ex: 0.105 = 10,5%">â“˜</span>
                            </label>
                            <input type="number" id="Taxa_SELIC_2027" name="Taxa_SELIC_2027" value="0.105" step="0.001" min="0" max="1">
                        </div>
                        
                        <div class="form-group">
                            <label for="Taxa_SELIC_2028">
                                2028 (0-1):
                                <span class="info-icon" data-info="Taxa SELIC anual projetada para 2028 em formato decimal. Ex: 0.10 = 10%">â“˜</span>
                            </label>
                            <input type="number" id="Taxa_SELIC_2028" name="Taxa_SELIC_2028" value="0.10" step="0.001" min="0" max="1">
                        </div>
                        
                        <div class="form-group">
                            <label for="percentual_rendimento_selic">
                                % Rendimento SELIC (0-1):
                                <span class="info-icon" data-info="Percentual do rendimento da SELIC efetivamente aplicado ao fundo. Ex: 0.95 = 95% da SELIC (considerando custos operacionais)">â“˜</span>
                            </label>
                            <input type="number" id="percentual_rendimento_selic" name="percentual_rendimento_selic" value="0.95" step="0.01" min="0" max="1">
                        </div>
                        </div>
                    </fieldset>

                    <!-- Controle de Volume de OperaÃ§Ãµes -->
                    <fieldset style="margin-top: 20px; margin-bottom: 20px; background-color: #f8f9fa; border: 2px solid #007bff; border-radius: 8px;">
                        <legend style="font-weight: 600; color: #007bff; font-size: 1.1em;">Volume de OperaÃ§Ãµes</legend>
                        <div class="form-group" style="padding: 15px;">
                            <label for="multiplicador_volume_operacoes" style="display: block; margin-bottom: 10px;">
                                Intensidade de ConcessÃ£o:
                                <span class="info-icon" data-info="Ajusta o volume de operaÃ§Ãµes em relaÃ§Ã£o ao padrÃ£o calculado automaticamente. 100% mantÃ©m o volume padrÃ£o baseado no capital do fundo. Valores menores (50%) sÃ£o mais conservadores, valores maiores (150-200%) sÃ£o mais agressivos.">â“˜</span>
                            </label>
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <div style="flex: 1; position: relative;">
                                    <input type="range" 
                                           id="multiplicador_volume_operacoes" 
                                           name="multiplicador_volume_operacoes" 
                                           min="0" 
                                           max="2" 
                                           step="0.1" 
                                           value="1.0"
                                           style="width: 100%; height: 8px; cursor: pointer;">
                                    <div style="display: flex; justify-content: space-between; margin-top: 5px; font-size: 0.85em; color: #666;">
                                        <span>0%</span>
                                        <span>50%</span>
                                        <span style="font-weight: 600;">100%</span>
                                        <span>150%</span>
                                        <span>200%</span>
                                    </div>
                                </div>
                                <span id="volume_value" style="min-width: 60px; font-weight: 600; color: #007bff; font-size: 1.2em;">100%</span>
                            </div>
                            <div id="volume_info" style="margin-top: 15px; padding: 10px; background-color: #e7f3ff; border-left: 4px solid #007bff; border-radius: 4px; font-size: 0.9em;">
                                <strong>OperaÃ§Ãµes esperadas:</strong> Varia de acordo com o capital disponÃ­vel (Ex: 10-200 ops/mÃªs)
                            </div>
                        </div>
                    </fieldset>

                    <div class="form-actions">
                        <button type="button" id="reset-btn">Restaurar PadrÃµes</button>
                        <button type="submit">Executar SimulaÃ§Ã£o</button>
                    </div>
                </form>
            </section>

            <section id="results">
                <h2>Resultados</h2>
                <div id="loading" style="display:none;">Processando simulaÃ§Ã£o...</div>
                <div id="error-output" style="display:none;"></div>
                <div id="resumo-output"></div>
                <div id="chart-output"></div>
                
                <!-- Sistema de Abas para Tabelas -->
                <div id="tables-section" style="display:none;">
                    <h3>Tabelas de Dados</h3>
                    <div class="tabs">
                        <button class="tab-button active" data-tab="carteira">Carteira Mensal</button>
                        <button class="tab-button" data-tab="fundo">Fundo Mensal</button>
                        <button class="tab-button" data-tab="operacoes">OperaÃ§Ãµes</button>
                    </div>
                    
                    <div class="tab-content active" id="tab-carteira">
                        <div class="download-buttons">
                            <button class="download-btn" data-table="carteira">
                                ðŸ“¥ Download CSV - Carteira
                            </button>
                        </div>
                        <div id="table-carteira"></div>
                    </div>
                    
                    <div class="tab-content" id="tab-fundo">
                        <div class="download-buttons">
                            <button class="download-btn" data-table="fundo">
                                ðŸ“¥ Download CSV - Fundo
                            </button>
                        </div>
                        <div id="table-fundo"></div>
                    </div>
                    
                    <div class="tab-content" id="tab-operacoes">
                        <div class="download-buttons">
                            <button class="download-btn" data-table="operacoes">
                                ðŸ“¥ Download CSV - OperaÃ§Ãµes
                            </button>
                        </div>
                        <div id="table-operacoes"></div>
                    </div>
                </div>
            </section>
        </div>
    </main>
    
    <script src="{{ url_for('static', filename='js/tooltips.js') }}"></script>
    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>